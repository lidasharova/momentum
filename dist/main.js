(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{Z:()=>Gt});let e=document.querySelector(".name");let n;const o=document.querySelector(".date");let s=new Date;const a=function t(e){const a={weekday:"long",month:"long",day:"numeric",year:"numeric"};n="ru"==e?s.toLocaleDateString("ru-RU",a):s.toLocaleDateString("en-US",a),o.textContent=n,setTimeout(t,36e5)},c=function(){const t=(new Date).getHours();let e=["morning","afternoon","evening","night"],n=Math.ceil(t/6);return 1===n?e[0]:2===n?e[1]:3===n?e[2]:4===n||0==n?e[3]:void 0};let i;function r(){let t,e=new Image,n=c();!function(){let t=Math.floor(20*Math.random())+1;i=String(t).padStart(2,"0")}(),t=`url('https://raw.githubusercontent.com/lidasharova/stage1-tasks/assets/images/${n}/${i}.jpg')`,e.src=`https://raw.githubusercontent.com/lidasharova/stage1-tasks/assets/images/${n}/${i}.jpg`,e.onload=()=>{document.body.style.backgroundImage=t}}const u=document.querySelector(".weather-error");function l(){localStorage.setItem("city",f.value)}function d(){null===localStorage.getItem("city")||0===localStorage.getItem("city").length?(f.value="Moscow",u.textContent=""):f.value=localStorage.getItem("city")}const m=document.querySelector(".weather-icon"),g=document.querySelector(".temperature"),v=document.querySelector(".weather-description"),h=document.querySelector(".weather-humidity"),y=document.querySelector(".weather-wind");let f=document.querySelector(".city");async function L(t){d();try{const e=`https://api.openweathermap.org/data/2.5/weather?q=${f.value}&lang=${t}&appid=165f4afa25f81abcc4f5d808337fd521&units=metric`,n=await fetch(e),o=await n.json();m.className="weather-icon owf",m.classList.add(`owf-${o.weather[0].id}`),g.textContent=`${Math.floor(o.main.temp)}°C`,v.textContent=o.weather[0].description,h.textContent=`Humidity: ${o.main.humidity}%`,y.textContent=`Wind speed: ${Math.floor(o.wind.speed)} m/s`,u.textContent=""}catch(t){console.log(t.name+": "+t.message),console.log(t.stack),m.classList.remove(m.classList[2]),g.textContent="",v.textContent="",h.textContent="",y.textContent="",u.textContent="The city not found"}setTimeout(L,3e5)}const p=document.querySelector(".quote"),S=document.querySelector(".author"),q=async function(t){const e=await fetch("dist/quotes.json"),n=await e.json();let o=Math.floor(Math.random()*(n.length-0+0))+0;"ru"===t&&(p.textContent=n[o].textRu,S.textContent=n[o].authorRu),"en"===t&&(p.textContent=n[o].textEn,S.textContent=n[o].authorEn)},w=function(t){t.classList.toggle("pause")},b=["Доброе утро,","Добрый день,","Добрый вечер,","Доброй ночи,"],k=["Good morning,","Good afternoon,","Good evening,","Good night,"],E=document.querySelector(".greeting"),x=(new Date).getHours();let M=Math.ceil(x/6);const C=function t(e){"en"!=e||0!==M&&1!==M?"en"==e&&2===M?E.textContent=k[0]:"en"==e&&3===M?E.textContent=k[1]:"en"==e&&4===M?E.textContent=k[2]:"ru"!=e||0!==M&&1!==M?"ru"==e&&2===M?E.textContent=b[0]:"ru"==e&&3===M?E.textContent=b[1]:"ru"==e&&4===M&&(E.textContent=b[2],setTimeout(t,36e5)):E.textContent=b[3]:E.textContent=k[3]},T=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:40"},{title:"Bad boys blue-You`re a woman",src:"../assets/sounds/Bad boys blue-You`re a woman.mp3",duration:"00:40"},{title:"Bethoven-Lunnaja sonata",src:"../assets/sounds/Bethoven-Lunnaja sonata.mp3",duration:"05:43"},{title:"Bethoven-tishina",src:"../assets/sounds/Bethoven-tishina.mp3",duration:"02:38"},{title:"Bethoven",src:"../assets/sounds/Bethoven.mp3",duration:"02:33"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"01:37"},{title:"Lunnaja sonata",src:"../assets/sounds/Lunnaja sonata.mp3",duration:"03:10"},{title:"Mocart-Muzika angelov",src:"../assets/sounds/Mocart-muzika angelov.mp3",duration:"09:06"},{title:"Mocart-Polet pechali",src:"../assets/sounds/Mocart-Polet pechali.mp3",duration:"03:22"},{title:"Mocart-Simfonija ",src:"../assets/sounds/Mocart-Simfonija.mp3",duration:"00:30"},{title:"Mocart-Vals",src:"../assets/sounds/Mocart-vals.mp3",duration:"00:40"},{title:"Mocart-Vivaldi",src:"../assets/sounds/Mocart-vivaldi.mp3",duration:"00:30"},{title:"Moonson",src:"../assets/sounds/Moonson.mp3",duration:"00:40"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"01:35"},{title:"Shostakovich-nezhnost",src:"../assets/sounds/Shostakovich-nezhnost.mp3",duration:"00:58"},{title:"Vals dozhdja",src:"../assets/sounds/Vals dozhdja.mp3",duration:"00:58"},{title:"Vivaldi-zima",src:"../assets/sounds/Vivaldi-zima.mp3",duration:"00:58"},{title:"Yaponskaja muzika",src:"../assets/sounds/Yaponskaja muzika.mp3",duration:"00:58"}],j=function(){document.querySelectorAll(".item-song").forEach((t=>{t.textContent==T[H].title?t.classList.add("item-active"):t.classList.remove("item-active")}))};let $=[];const I=document.querySelector(".play-list");T.forEach((t=>{$.push(t.title)}));let N=[];const z=function(){!function(){N=[];for(let t=0;t<4;t++){let e=H+t;void 0!==$[e]?N.push($[e]):e=0}}(),I.innerHTML="",N.forEach((t=>{let e=`\n    <li class= "item-song">${t}</li>\n      `;I.insertAdjacentHTML("beforeend",e)}))};document.querySelector(".play");let B=document.querySelector(".time-song"),G=document.querySelector(".current-time"),D=document.querySelector(".time-left"),H=0;function P(){Gt.src=T[H].src,Gt.play(),j()}function V(t){let e=Math.floor(t/60),n=Math.floor(t-60*e);return n<10&&(n=`0${n}`),`${e}:${n}`}function Y(){H<T.length?(H++,z(),j(),P()):(H=0,z(),j(),P())}function A(){H>0?(H--,z(),j(),P()):(H=T.length,z(),j(),P())}let R=document.querySelector(".settings");let U,_,F=document.querySelector(".player"),O=document.querySelector(".weather"),W=document.querySelector(".time"),Q=document.querySelector(".date"),X=document.querySelector(".quote-container"),Z=document.querySelector(".greeting-container"),J=document.querySelector(".Time"),K=document.querySelector(".Date"),tt=document.querySelector(".Weather"),et=document.querySelector(".Greeting"),nt=document.querySelector(".Player"),ot=document.querySelector(".Quote"),st=document.querySelector(".GitHub"),at=document.querySelector(".Unsplash"),ct=document.querySelector(".Flickr");function it(){st.classList.toggle("button-active")}function rt(){at.classList.toggle("button-active")}function ut(){ct.classList.toggle("button-active")}let lt=new Image;const dt=async function(){const t=await fetch("https://api.unsplash.com/photos/random?orientation=landscape&query=nature&client_id=hhPlBGedeO_U6VRYuu0X4zM6E2f7k68TCN46p3x7gUM"),e=await t.json();_=e.urls.regular,U=`url('${_}')`,lt.src=_,lt.onload=()=>{document.body.style.backgroundImage=U}};let mt;const gt=async function(){let t="",e="",n=new Image;mt=Math.floor(20*Math.random())+1;const o=await fetch("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=8bbd7282d3a76766c8fb0b458dfd3a5c&tags=nature&extras=url_l&format=json&nojsoncallback=1");e=(await o.json()).photos.photo[mt].url_l,t=`url('${e}')`,n.src=e,n.onload=()=>{document.body.style.backgroundImage=t}};let vt="en";(function t(){const e=document.querySelector(".time");let n;n=(new Date).toLocaleTimeString(),e.textContent=n,setTimeout(t,1e3)})(),a(vt),C(vt),q(vt),r(),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",e.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(e.value=localStorage.getItem("name"))})),window.addEventListener("beforeunload",l),window.addEventListener("load",d);let ht=document.querySelector(".slide-next"),yt=document.querySelector(".slide-prev");ht.addEventListener("click",(()=>{i<20?(i++,r()):(i=1,r()),q(vt)})),yt.addEventListener("click",(()=>{i>1?(i--,r()):(i=20,r()),q(vt)})),L(vt),f.addEventListener("change",l),f.addEventListener("change",(()=>{L(vt)})),window.addEventListener("load",d),document.querySelector(".change-quote").addEventListener("click",(()=>{"en"===vt?q("en"):"ru"===vt&&q("ru")}));const ft=new Audio;ft.volume=.4;let Lt=!1,pt=document.querySelector(".play");z(),document.querySelector(".audio-track").addEventListener("click",(function(t){const e=this.clientWidth,n=t.offsetX,o=Gt.duration;Gt.currentTime=n/e*o})),ft.addEventListener("ended",Y),pt.addEventListener("click",(()=>{w(pt)}));let St=0;pt.addEventListener("click",(()=>{0==Lt?(P(),Lt=!0,ft.currentTime=St):(Gt.pause(),document.querySelector(".item-active").classList.remove("item-active"),Lt=!1,St=ft.currentTime)}));const qt=document.querySelector(".volume-wrapper"),wt=document.querySelector(".volume-container"),bt=document.querySelector(".volume-button");function kt(){wt.classList.toggle("volume-visible")}qt.addEventListener("mouseover",kt),qt.addEventListener("mouseout",kt),qt.addEventListener("click",(t=>function(t){const e=window.getComputedStyle(qt).width,n=t.offsetX/parseInt(e);ft.volume=n,document.querySelector(".volume").style.width=100*n+"%",n>.3&&!ft.muted&&bt.classList.remove("volume-off")}(t))),bt.addEventListener("click",(()=>{ft.muted?(ft.muted=!ft.muted,bt.classList.remove("volume-off")):(ft.muted=!0,bt.classList.add("volume-off"))})),ft.addEventListener("timeupdate",(function(t){const{duration:e,currentTime:n}=t.srcElement;let o=Math.round(n),s=Math.round(e);G.innerText=V(o),D.innerText=V(s-o),"NaN:NaN"===G.innerText?G.innerText="0:00":G.innerText=V(o),"NaN:NaN"===D.innerText?D.innerText="0:00":D.innerText=V(s-o);let a=o/s*100;"NaN"===a&&(a=o),B.style.width=`${a}%`}));const Et=document.querySelector(".play-prev"),xt=document.querySelector(".play-next");Et.addEventListener("click",(()=>{Lt?A():(Lt=!0,A(),w(pt))})),xt.addEventListener("click",(()=>{Lt?Y():(Lt=!0,Y(),w(pt))})),document.querySelector(".setting-img ").addEventListener("click",(function(){R.classList.toggle("open-settings")}));let Mt=document.querySelector(".Time "),Ct=document.querySelector(".Date"),Tt=document.querySelector(".Weather "),jt=document.querySelector(".Greeting "),$t=document.querySelector(".Player "),It=document.querySelector(".Quote ");Mt.addEventListener("click",(()=>{W.classList.toggle("hide"),J.classList.toggle("button-active")})),Ct.addEventListener("click",(()=>{Q.classList.toggle("hide"),K.classList.toggle("button-active")})),Tt.addEventListener("click",(()=>{O.classList.toggle("hide"),tt.classList.toggle("button-active")})),jt.addEventListener("click",(()=>{Z.classList.toggle("hide"),et.classList.toggle("button-active")})),$t.addEventListener("click",(()=>{F.classList.toggle("hide"),nt.classList.toggle("button-active")})),It.addEventListener("click",(()=>{X.classList.toggle("hideQuote"),ot.classList.toggle("button-active")})),document.querySelectorAll('input[type=radio][name="language"]').forEach((t=>t.addEventListener("change",(()=>{vt=t.value,L(vt),a(vt),C(vt),q(vt)}))));let Nt=document.querySelector(".GitHub"),zt=document.querySelector(".Unsplash"),Bt=document.querySelector(".Flickr");Nt.addEventListener("click",(()=>{r(),it(),zt.classList.contains("button-active")&&Bt.classList.contains("button-active")?(ut(),rt()):zt.classList.contains("button-active")?rt():Bt.classList.contains("button-active")&&ut()})),zt.addEventListener("click",(()=>{dt(),rt(),Nt.classList.contains("button-active")&&Bt.classList.contains("button-active")?(ut(),it()):Nt.classList.contains("button-active")?it():Bt.classList.contains("button-active")&&ut()})),Bt.addEventListener("click",(()=>{gt(),ut(),Nt.classList.contains("button-active")&&zt.classList.contains("button-active")?(rt(),it()):Nt.classList.contains("button-active")?it():zt.classList.contains("button-active")&&rt()}));const Gt=ft})();